<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login - PUP E-Manage</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Phosphor Icons -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>

    <!-- Google Fonts: Inter -->
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <!-- Custom Config (Matches Admin Side Reference) -->
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              pup: {
                maroon: "#800000",
                darkMaroon: "#5a0000",
                gray: "#F5F5F5",
                text: "#1F1F1F", /* Updated to match Admin */
                border: "#d1d5db", /* Updated to match Admin */
              },
            },
            fontFamily: {
              sans: ["Inter", "sans-serif"],
            },
            borderRadius: {
              brand: "6px",
            },
          },
        },
      };
    </script>

    <style>
      body {
        background-color: #f3f4f6; /* Updated to match Admin background */
        color: #1f2937; /* Updated to match Admin text */
      }

      /* Input Styles matched to reference */
      .form-input {
        width: 100%;
        padding: 0.75rem;
        background-color: #fff;
        border: 1px solid #d1d5db; /* Updated border color */
        border-radius: 6px;
        font-size: 0.875rem;
        color: #111827; /* Updated input text color */
        transition: all 0.2s;
      }
      .form-input:focus {
        outline: none;
        border-color: #800000;
        box-shadow: 0 0 0 3px rgba(128, 0, 0, 0.1);
      }

      /* Animation */
      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      .animate-fade-up {
        animation: fadeInUp 0.4s ease-out forwards;
      }
    </style>
  </head>
  <body class="h-screen flex items-center justify-center relative overflow-hidden">
    
    <!-- Background Decor (Optional Subtle Pattern) -->
    <div class="absolute inset-0 pointer-events-none opacity-[0.02]">
        <i class="ph-fill ph-bank text-[800px] absolute -right-20 -bottom-40 rotate-12 text-pup-maroon"></i>
    </div>

    <!-- Login Container -->
    <div class="w-full max-w-md p-6 animate-fade-up z-10">
      
      <!-- Brand Header -->
      <div class="text-center mb-8">
        <div class="inline-flex items-center justify-center w-16 h-16 bg-white rounded-full shadow-sm mb-4 border border-pup-border">
            <i class="ph-bold ph-bank text-4xl text-pup-maroon"></i>
        </div>
        <h1 class="text-2xl font-bold text-pup-maroon tracking-tight">PUP E-Manage</h1>
        <p class="text-xs text-gray-600 uppercase tracking-widest mt-1">Student Record Management System</p>
      </div>

      <!-- Login Card -->
      <div class="bg-white rounded-brand border border-pup-border shadow-sm p-8">
        <div class="mb-6">
            <h2 class="text-lg font-bold text-gray-800">System Login</h2>
            <p class="text-sm text-gray-600">Please enter your credentials to continue.</p>
        </div>

        <form onsubmit="handleLogin(event)" class="space-y-4">
          
          <!-- Username Input -->
          <div>
            <label for="username" class="block text-xs font-bold text-gray-700 mb-1 uppercase">Username / ID</label>
            <div class="relative">
                <i class="ph-bold ph-user absolute left-3 top-3.5 text-gray-500"></i>
                <input 
                    type="text" 
                    id="username" 
                    class="form-input pl-10" 
                    placeholder="Enter your ID (e.g., admin)" 
                    required 
                    autofocus
                >
            </div>
          </div>

          <!-- Password Input -->
          <div>
            <div class="flex justify-between items-center mb-1">
                <label for="password" class="block text-xs font-bold text-gray-700 uppercase">Password</label>
            </div>
            <div class="relative">
                <i class="ph-bold ph-lock-key absolute left-3 top-3.5 text-gray-500"></i>
                <input 
                    type="password" 
                    id="password" 
                    class="form-input pl-10" 
                    placeholder="••••••••" 
                    required
                >
            </div>
            <div class="flex justify-end mt-1">
                <a href="#" class="text-xs text-pup-maroon hover:underline font-medium">Forgot Password?</a>
            </div>
          </div>

          <!-- Submit Button -->
          <button 
            type="submit" 
            class="w-full bg-pup-maroon text-white py-3 rounded-brand font-bold text-sm hover:bg-red-900 transition-all shadow-sm flex items-center justify-center gap-2 group mt-2"
          >
            <span>Sign In</span>
            <i class="ph-bold ph-arrow-right group-hover:translate-x-1 transition-transform"></i>
          </button>

        </form>
      </div>

      <!-- Footer -->
      <div class="text-center mt-8 text-xs text-gray-500">
        <p>&copy; 2024 Polytechnic University of the Philippines</p>
      </div>

    </div>

    <script>
      // Admin Credentials List
      const adminUsernames = ['admin', 'admin', 'registrar', 'head_registrar'];

      function handleLogin(event) {
        event.preventDefault(); // Stop actual form submission
        
        // Get the entered username
        const usernameInput = document.getElementById('username').value.trim();
        
        const btn = event.target.querySelector('button[type="submit"]');
        const originalContent = btn.innerHTML;

        // Simulate loading state
        btn.disabled = true;
        btn.innerHTML = `<i class="ph-bold ph-spinner animate-spin text-lg"></i> Authenticating...`;
        btn.classList.add('opacity-75', 'cursor-not-allowed');

        setTimeout(() => {
            // Check if input matches any admin username
            if (adminUsernames.includes(usernameInput)) {
                 // Redirect to Admin Dashboard
                window.location.href = 'admindashboard.html';
            } else {
                 // Default Redirect to Staff Dashboard
                window.location.href = 'staffdashboard.html';
            }
        }, 800);
      }
    </script>
  </body>
</html>
